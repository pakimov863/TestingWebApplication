@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using TestingWebApplication.Data.Repository.Model
@using TestingWebApplication.Data.Shared
@model TestingWebApplication.Data.Repository.Model.GeneratedQuizModel

@{
    Layout = "_Layout";
    ViewBag.Title = "Тестирование";
    var startTimestamp = new DateTimeOffset(Model.StartTime.AddSeconds(Model.SourceQuiz.TotalTimeSecs)).ToUnixTimeMilliseconds();
}

<h1>Тестирование - @Model.SourceQuiz.Title</h1>

<div>Времени осталось: <span id="timer">@startTimestamp</span></div>
<br />

<div class="container">
    @using (Html.BeginForm("QuizPublish", "TestingApi", FormMethod.Post))
    {
        @Html.HiddenFor(m => m.Id)
        @Html.DisplayFor(m => m.SourceQuiz, "Testing/QuizEditor")

        <input type="submit" value="Закончить" />
    }
</div>

<script src="~/js/jquery.min.js"></script>
<script src="~/js/jquery.jslatex.min.js"></script>
<script src="~/js/jquery.timer.js"></script>
<script src="~/js/bootstrap.min.js"></script>

<script>
    $(".latex").latex();
    $("#timer").timered();
</script>
